document.addEventListener("DOMContentLoaded",function(){fetch("https://xc2y-vol9-ivwv.n7d.xano.io/api:CFIFmuHv/city_services").then(e=>e.json()).then(e=>{console.log("Fetch request successful"),console.log("Response:",e);var t=e.groups.map(e=>({id:e.id,name:e.Name}));console.log("Groups:",t);var a=e.options.map(e=>({value:e.id,text:e.Name,optgroup:e.City_Departments}));console.log("Options:",a);var o=document.getElementById("input-services"),i={delimiter:",",persist:!1,create:!1,options:a,optgroups:t,optgroupField:"optgroup",optgroupLabelField:"name",optgroupValueField:"id",lockOptgroupOrder:!0,onChange:function(e){console.log("Selectize onChange triggered"),console.log("Selected value:",e);var t=e.split(",").map(e=>isNaN(e)?e:Number(e));console.log("Processed value array:",t),window.Wized=window.Wized||[],window.Wized.push(e=>{console.log("Updating Wized variable"),e.data.v.services_selectize=t,console.log("Wized variable updated:",e.data.v.services_selectize)})}};a.forEach(e=>{var t=new Option(e.text,e.value);o.add(t)}),o.addEventListener("change",function(){i.onChange(o.value)})}).catch(()=>{console.error("Failed to load tags and groups")})});
